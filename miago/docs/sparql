# find out the entity that contains "Hela" in Ontobee
#http://www.ontobee.org/sparql/index.php

prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix owl: <http://www.w3.org/2002/07/owl#>
SELECT distinct ?s ?label
WHERE {
GRAPH ?graph_uri
{ ?s rdf:type owl:Class .
  ?s rdfs:label ?label .
  FILTER REGEX(str(?label), "Hela") . }
}

## PR searching for the URI 

prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix owl: <http://www.w3.org/2002/07/owl#>
SELECT distinct ?s ?label
From <http://purl.obolibrary.org/obo/merged/PR>
WHERE 

{ ?s rdfs:label ?label .
  FILTER REGEX(str(?s), "MGI_88256") .
   }
   
   

## Searching the protein for a gene in PR

prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix owl: <http://www.w3.org/2002/07/owl#>
SELECT distinct ?s ?label
From <http://purl.obolibrary.org/obo/merged/PR>
WHERE {

{ ?s rdfs:label ?label .
  ?s rdfs:subClassOf ?s1 .
  ?s1 owl:onProperty <http://purl.obolibrary.org/obo/pr#has_gene_template>; owl:someValuesFrom <http://purl.obolibrary.org/obo/HGNC_11766> .
   }
 
 
## Searching two proteins for genes in PR 


prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix owl: <http://www.w3.org/2002/07/owl#>
SELECT distinct ?s ?label
From <http://purl.obolibrary.org/obo/merged/PR>
WHERE

{ ?s rdfs:label ?label .
  ?s rdfs:subClassOf ?s1 .
  {?s1 owl:onProperty <http://purl.obolibrary.org/obo/pr#has_gene_template>; owl:someValuesFrom <http://purl.obolibrary.org/obo/HGNC_11766> .}
  UNION {?s1 owl:onProperty <http://purl.obolibrary.org/obo/pr#has_gene_template>; owl:someValuesFrom <http://purl.obolibrary.org/obo/RGD_1309293> .}
 }
 

 
 # limit of nest query depth: about 50-60
 
 
prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix owl: <http://www.w3.org/2002/07/owl#>
SELECT distinct ?s ?label
From <http://purl.obolibrary.org/obo/merged/PR>
WHERE

{ ?s rdfs:label ?label .
  ?s rdfs:subClassOf ?s1 .
  ?s1 owl:onProperty <http://purl.obolibrary.org/obo/pr#has_gene_template>.
  {?s1 owl:someValuesFrom <http://purl.obolibrary.org/obo/HGNC_11766> .}
UNION { ?s1 owl:someValuesFrom <http://purl.obolibrary.org/obo/HGNC_12663> .}
UNION { ?s1 owl:someValuesFrom <http://purl.obolibrary.org/obo/HGNC_9962> .}
UNION { ?s1 owl:someValuesFrom <http://purl.obolibrary.org/obo/HGNC_12558> .}


 }
 
 
 ## search the PR ID corespondent to Gene ID
 

prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix owl: <http://www.w3.org/2002/07/owl#>
SELECT distinct ?s ?label ?s2
WHERE

{ ?s rdfs:label ?label .
  ?s rdfs:subClassOf ?s1 .
  ?s1 owl:onProperty <http://purl.obolibrary.org/obo/pr#has_gene_template>; owl:someValuesFrom ?s2.
 
 }